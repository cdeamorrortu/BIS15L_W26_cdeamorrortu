library("tidyverse")
library("janitor")
"The study is testing whether populations of survivors of large historical elephant harvests had less large tuskers, and whether the following generations had smaller tusks. The variables involved are tusk length and circumference, mean tusk length, mean basal tusk circumference, and homogeneity."
elephants <- read_csv("data/elephants.csv") %>%
clean_names()
clean_names(elephants)
glimpse(elephants)
elefactor <- elephants %>%
mutate(years_of_sample_collection = as_factor(years_of_sample_collection),
elephant_id = as_factor(elephant_id),
sex = as_factor(sex))
elefactor %>%
select(years_of_sample_collection) %>%
distinct(years_of_sample_collection)
elefactor %>%
select(sex) %>%
count(sex)
#elefactor %>%
#  select(
#    sex, estimated_age_years, years_of_sample_collection
#  ) %>%
#  summarize(sex, years_of_sample_collection,
#    meanage = mean(estimated_age_years, na.rm = T),
#    meadianage = median(estimated_age_years, na.rm = T),
#    sdage = sd(estimated_age_years, na.rm = T)
#  ) %>%
#  distinct() %>%
#  arrange(sex)
## Both sexes on one table, arranged by sex
elefactor %>%
select(
sex, estimated_age_years, years_of_sample_collection
) %>%
filter(
sex == "f"
) %>%
summarize(sex, years_of_sample_collection,
meanage = mean(estimated_age_years, na.rm = T),
meadianage = median(estimated_age_years, na.rm = T),
sdage = sd(estimated_age_years, na.rm = T)
) %>%
distinct()
elefactor %>%
select(
sex, estimated_age_years, years_of_sample_collection
) %>%
filter(
sex == "m"
) %>%
summarize(sex, years_of_sample_collection,
meanage = mean(estimated_age_years, na.rm = T),
meadianage = median(estimated_age_years, na.rm = T),
sdage = sd(estimated_age_years, na.rm = T)
) %>%
distinct()
library("tidyverse")
library("janitor")
"The study is testing whether populations of survivors of large historical elephant harvests had less large tuskers, and whether the following generations had smaller tusks. The variables involved are tusk length and circumference, mean tusk length, mean basal tusk circumference, and homogeneity."
elephants <- read_csv("data/elephants.csv") %>%
clean_names()
clean_names(elephants)
glimpse(elephants)
elefactor <- elephants %>%
mutate(years_of_sample_collection = as_factor(years_of_sample_collection),
elephant_id = as_factor(elephant_id),
sex = as_factor(sex))
elefactor %>%
select(years_of_sample_collection) %>%
distinct(years_of_sample_collection)
elefactor %>%
select(sex) %>%
count(sex)
#elefactor %>%
#  select(
#    sex, estimated_age_years, years_of_sample_collection
#  ) %>%
#  summarize(sex, years_of_sample_collection,
#    meanage = mean(estimated_age_years, na.rm = T),
#    meadianage = median(estimated_age_years, na.rm = T),
#    sdage = sd(estimated_age_years, na.rm = T)
#  ) %>%
#  distinct() %>%
#  arrange(sex)
## Both sexes on one table, arranged by sex
elefactor %>%
select(
sex, estimated_age_years, years_of_sample_collection
) %>%
filter(
sex == "f"
) %>%
summarize(sex, years_of_sample_collection,
meanage = mean(estimated_age_years, na.rm = T),
meadianage = median(estimated_age_years, na.rm = T),
sdage = sd(estimated_age_years, na.rm = T)
) %>%
distinct()
elefactor %>%
select(
sex, estimated_age_years, years_of_sample_collection
) %>%
filter(
sex == "m"
) %>%
summarize(sex, years_of_sample_collection,
meanage = mean(estimated_age_years, na.rm = T),
meadianage = median(estimated_age_years, na.rm = T),
sdage = sd(estimated_age_years, na.rm = T)
) %>%
distinct()
library("tidyverse")
library("janitor")
large <- msleep %>%
filter(bodywt > 150) %>%
arrange(desc(bodywt))
large
small <- msleep %>%
filter(bodywt < 10) %>%
arrange(desc(bodywt))
small
mean(large$bodywt)
mean(small$bodywt)
msleep %>%
filter(bodywt > 150) %>%
summarize(mean_bodywt_lg = mean(bodywt))
msleep %>%
filter(bodywt < 10) %>%
summarize(mean_bodywt_sm = mean(bodywt))
msleep %>%
filter(bodywt < 10) %>%
summarize(mean_bodywt_sm = mean(bodywt),
min_bodywt_sm = min(bodywt),
max_bodywt_sm = max(bodywt),
sd_bodywt_sm = sd(bodywt),
total = n())
msleep %>%
select(where(is.numeric)) %>%
summarize_all(mean)
#we want to remove the NAs!
msleep %>%
select(where(is.numeric)) %>%
summarize_all(mean, na.rm = T)
# Removing the NAs
## This method is a little "deprecated," they're trying to stop us from using this.
msleep %>%
summarize(across(where(is.numeric),
~mean(.x, na.rm = T)))
# This is what they're tyring to get us to start using, but either one works it doesn't really matter right now
glimpse(msleep)
msleep %>%
select(order, bodywt) %>%
filter(order == "Primates") %>%
summarize(meanbw = mean(bodywt),
minbw = min(bodywt),
maxbw = max(bodywt),
observations = n())
msleep %>%
filter(bodywt > 100) %>%
n_distinct()
msleep %>%
filter(bodywt > 100) %>%
summarize(n_genera = n_distinct(genus))
msleep %>%
filter(bodywt > 100) %>%
summarize(total = n())
msleep %>%
filter(bodywt > 100) %>%
distinct() %>%
pull(genus)
msleep %>%
distinct(genus) %>%
pull(genus) %>%
n_distinct()
msleep %>%
count(vore)
msleep %>%
count(vore) %>%
ggplot(mapping = aes(x = vore, y = n)) +
geom_col(mapping = aes(fill = "red"))
#use geom_col() when we have an x and a y
msleep %>%
count(vore, order)
msleep %>%
tabyl(vore)
msleep %>%
select(order, conservation) %>%
filter(order == "Carnivora") %>%
tabyl(conservation)
glimpse(msleep)
msleep %>%
filter(vore == "herbi") %>%
count(order, sort = T) %>%
arrange(desc(order)) %>%
slice_max(order, n = 5)
#independent = x, dependent = y
elefactor %>%
select(estimated_age_years, tusk_length_in_cm) %>%
ggplot(mapping = aes(x = estimated_age_years, y = tusk_length_in_cm)) +
geom_point()
#independent = x, dependent = y
elefactor %>%
select(estimated_age_years, tusk_length_in_cm) %>%
ggplot(mapping = aes(x = estimated_age_years, y = tusk_length_in_cm)) +
geom_point() +
geom_smooth(method = "lm", se=F) +
labs(title = "Effect of Age on Tusk Length", x = "Age", y = "Tusk Length")
#independent = x, dependent = y
elefactor %>%
select(estimated_age_years, tusk_length_in_cm) %>%
ggplot(mapping = aes(x = estimated_age_years, y = tusk_length_in_cm)) +
geom_point() +
geom_smooth(method = "lm", se=T) +
labs(title = "Effect of Age on Tusk Length", x = "Age", y = "Tusk Length")
#geom_smooth(method = "lm", se = F) adds line of best fit!
```
#geom_smooth(method = "lm", se = F) adds line of best fit!
```
#independent = x, dependent = y
elefactor %>%
select(estimated_age_years, tusk_length_in_cm) %>%
ggplot(mapping = aes(x = estimated_age_years, y = tusk_length_in_cm)) +
geom_point() +
geom_smooth(method = "lm", se = F) +
labs(title = "Effect of Age on Tusk Length", x = "Age", y = "Tusk Length")
#independent = x, dependent = y
elefactor %>%
select(estimated_age_years, tusk_length_in_cm) %>%
ggplot(mapping = aes(x = estimated_age_years, y = tusk_length_in_cm)) +
geom_point(na.rm = T) +
geom_smooth(method = "lm", se = F) +
labs(title = "Effect of Age on Tusk Length", x = "Age", y = "Tusk Length")
elefactor %>%
select(shoulder_height_in_cm, tusk_length_in_cm) %>%
ggplot(mapping = aes(x = shoulder_height_in_cm, y = tusk_length_in_cm)) +
geom_point(na.rm = T) +
geom_smooth(method = "lm", se = F) +
labs(title = "Shoulder Height Effect on Tusk Length", x = "Shoulder Height (cm)", y = "Tusk Length (cm)")
glimpse(elefactor)
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
summarize(years_of_sample_collection,
meantusk = mean(tusk_length_in_cm, na.rm = T)) %>%
distinct() %>%
```
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
summarize(years_of_sample_collection,
meantusk = mean(tusk_length_in_cm, na.rm = T)) %>%
distinct()
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "1966-68	") %>%
summarize(meantusk - mean(tusk_length_in_cm, na.rm = T))
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "1966-68	") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "1966-68	")
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "1966-68")
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "1966-68") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
summarize(years_of_sample_collection,
meantusk = mean(tusk_length_in_cm, na.rm = T)) %>%
distinct()
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "1966-68") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
\
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
summarize(years_of_sample_collection,
meantusk = mean(tusk_length_in_cm, na.rm = T)) %>%
distinct()
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "2005-13	") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "1966-68") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "2005-13") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "2005-13") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
summarize(years_of_sample_collection,
meantusk = mean(tusk_length_in_cm, na.rm = T)) %>%
distinct()
elefactor %>%
select(
sex, estimated_age_years, years_of_sample_collection
) %>%
summarize(sex, years_of_sample_collection,
meanage = mean(estimated_age_years, na.rm = T),
meadianage = median(estimated_age_years, na.rm = T),
sdage = sd(estimated_age_years, na.rm = T)
) %>%
distinct() %>%
arrange(sex)
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
summarize(across(years_of_sample_collection,
meantusk = mean(tusk_length_in_cm, na.rm = T))) %>%
distinct()
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
summarize(across()years_of_sample_collection,
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
summarize(across(years_of_sample_collection),
meantusk = mean(tusk_length_in_cm, na.rm = T)) %>%
distinct()
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "2005-13") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "1966-68") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
elefactor %>%
select(years_of_sample_collection, tusk_length_in_cm) %>%
filter(years_of_sample_collection == "2005-13") %>%
summarize(meantusk = mean(tusk_length_in_cm, na.rm = T))
glimpse(elefactor)
elefactor %>%
filter((sex == "f" & estimated_age_years = 12) | (sex == "m" & estimated_age_years = 25))
#elefactor %>% filter((sex == "f"  estimated_age_years = 12) | (sex == "m" & estimated_age_years = 25))
?|
elefactor %>%
filter(estimated_age_years = 12)
elefactor %>%
filter(estimated_age_years == 12)
elefactor %>% filter((sex == "f"  estimated_age_years == 12) | (sex == "m" & estimated_age_years == 25))
elefactor %>% filter((sex == "f"  estimated_age_years == 12) | (sex == "m" & estimated_age_years == 25))
elefactor %>%
filter(estimated_age_years == 12 | estimated_age_years == 25)
?ifelse
